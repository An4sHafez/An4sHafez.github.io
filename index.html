<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of Anas Hafed - Machine Learning Engineer & Data Scientist">
    <title>Anas Hafed | ML Engineer & Data Architect</title>
    <link rel="icon" type="image/x-icon" href="./img/ico.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

    <style>
        :root {
            --bg-dark: #020617;
            --accent: #22d3ee;
            --purple: #818cf8;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --glass: rgba(15, 23, 42, 0.7);
            --accent-glow: rgba(34, 211, 238, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: 0.3s;
        }


        /* --- FEATURE 1: NEURAL BACKGROUND --- */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
            background: radial-gradient(circle at 50% 50%, #0f172a 0%, #020617 100%);
        }

        /* --- FEATURE 2: SEARCH BAR --- */
        .search-container {
            position: relative;
            margin-left: 20px;
        }

        #nav-search {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            color: white;
            font-family: 'JetBrains Mono';
            font-size: 0.8rem;
            width: 150px;
            transition: 0.3s;
        }

        #nav-search:focus {
            width: 250px;
            outline: none;
            border-color: var(--accent);
        }

        .search-results {
            position: absolute;
            top: 45px;
            right: 0;
            width: 300px;
            background: var(--bg-dark);
            border: 1px solid var(--accent);
            border-radius: 12px;
            display: none;
            z-index: 1001;
            max-height: 400px;
            overflow-y: auto;
        }

        .search-item {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        .search-item:hover {
            background: var(--accent-glow);
        }



        /* Make the terminal input line sticky at the bottom if you prefer */


        /* --- FEATURE 3: TERMINAL MODE --- */
        #terminal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(2, 6, 23, 0.95);
            z-index: 9999;
            display: none;
            padding: 40px;
            font-family: 'JetBrains Mono', monospace;
            overflow-y: auto;
            /* Ensure you can scroll back up */
            border: 10px solid rgba(255, 255, 255, 0.05);
            /* Professional border */
        }

        .terminal-content {
            max-width: 900px;
            margin: 0 auto;
            color: #4ade80;
        }

        .terminal-content div {
            margin-bottom: 5px;
            word-break: break-all;
        }

        .terminal-input-line {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            border-top: 1px solid rgba(74, 222, 128, 0.2);
            padding-top: 15px;
            position: sticky;
            bottom: 0;
            background: rgba(2, 6, 23, 0.95);
        }


        .terminal-input-line input {
            background: transparent;
            border: none;
            color: white;
            outline: none;
            width: 100%;
            font-family: 'JetBrains Mono';
        }

        #terminal-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--accent);
            color: black;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 0 20px var(--accent);
        }

        /* --- FEATURE 4: INTERACTIVE CHART --- */
        .chart-container {
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 12px;
        }

        .slider-control {
            margin-top: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.8rem;
        }

        /* Existing Styles Preserved */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        nav {
            padding: 20px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;

            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
        }

        .nav-links a {
            margin-left: 20px;
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .text-gradient {
            background: linear-gradient(to right, var(--accent), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
        }

        .hero-section {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            align-items: center;
            gap: 40px;
        }

        .hero-tag {
            display: inline-block;
            background: var(--accent-glow);
            color: var(--accent);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .contact-box {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 450px;
        }

        .profile-image-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
        }

        .profile-frame {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            padding: 2px;
            background: linear-gradient(135deg, #3b82f6, #8a5cf6, #3b82f6);
            background-size: 300% 300%;
            animation: gradientShift 1s linear infinite;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--bg-dark);
        }

        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bento-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 50px 0;
        }

        .card {
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 20px;
            transition: 0.3s ease;
            position: relative;
        }

        .card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            background: rgba(34, 211, 238, 0.05);
        }

        .stat-badge {
            background: var(--accent-glow);
            color: var(--accent);
            padding: 5px 10px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.85rem;
            display: inline-block;
            margin-bottom: 10px;
        }

        .tech-badge {
            font-size: 0.75rem;
            padding: 4px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-right: 5px;
            margin-top: 5px;
            display: inline-block;
        }

        .skills-grid-static {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .skill-tag {
            display: inline-block;
            font-size: 0.8rem;
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: var(--accent);
            margin: 4px;
            transition: 0.3s;
        }

        .skill-tag:hover {
            transform: scale(1.1);
            background: var(--accent);
            color: black;
        }

        .timeline {
            border-left: 2px solid rgba(255, 255, 255, 0.1);
            margin-left: 10px;
            padding-left: 30px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 50px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -37px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--accent);
        }

        .social-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(34, 211, 238, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #22d3ee;
            margin: 0 5px;
            transition: 0.3s;
            border: 1px solid rgba(34, 211, 238, 0.2);
        }

        .social-icon:hover {
            background: var(--accent);
            color: black;
            transform: translateY(-3px);
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @media (max-width: 768px) {
            .hero {
                height: auto;

                padding-top: 100px;
            }

            .hero-section {
                grid-template-columns: 1fr;
                /* Stack elements vertically */
                gap: 20px;
            }

            .contact-box {
                max-width: 100%;
                /* Take full width on small screens */
            }


        }

        @media (max-width: 600px) {
            .nav-links a {
                margin-left: 10px;
                font-size: 0.75rem;
                /* Smaller text for tight spaces */
            }

            #nav-search {
                display: none;
                /* Hide search on very small screens to prevent overlap */
            }
        }

        @media (max-width: 768px) {
            .card {
                grid-column: span 1 !important;
                /* Force all cards to 1 column width */
            }

            .bento-grid {
                grid-template-columns: 1fr;
                /* Single column layout */
            }
        }

        @media (max-width: 480px) {
            #terminal-overlay {
                padding: 15px;
            }

            .terminal-content {
                font-size: 0.8rem;
                /* Make text readable but compact */
            }
        }

        /* Custom Binary Cursor Effect */
        .cursor-digit {
            position: fixed;
            pointer-events: none;
            /* Critical: allows clicking through the digits */
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            font-weight: bold;
            z-index: 9999;
            user-select: none;
            animation: fallAndFade 1.5s forwards linear;
        }

        @keyframes fallAndFade {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(100px);
                /* How far they drop */
                opacity: 0;
            }
        }

        .stickman {
            position: fixed;
            bottom: 50px;
            width: 40px;
            height: 80px;
            z-index: 10001;
            transition: transform 0.2s;
        }

        .bullet {
            position: fixed;
            width: 10px;
            height: 3px;
            background: #ff4757;
            z-index: 10002;
            box-shadow: 0 0 5px #ff4757;
        }

        @keyframes shake {
            0% {
                transform: translate(1px, 1px) rotate(0deg);
            }

            20% {
                transform: translate(-3px, 0px) rotate(1deg);
            }

            40% {
                transform: translate(1px, -1px) rotate(1deg);
            }

            100% {
                transform: translate(1px, 2px) rotate(0deg);
            }
        }

        /* Stickman movement and recoil */
        @keyframes walk {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px) rotate(5deg);
            }
        }

        @keyframes shootRecoil {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(0.9) translateX(-5px);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Destruction effect for site elements */
        .destroyed {
            opacity: 0.2 !important;
            filter: blur(2px) grayscale(1);
            transform: skewX(15deg) translateY(10px);
            transition: all 0.3s ease-out;
            pointer-events: none;
        }

        .bullet {
            position: fixed;
            width: 8px;
            height: 4px;
            background: #ff0055;
            box-shadow: 0 0 10px #ff0055;
            border-radius: 2px;
            z-index: 10002;
        }

        /* Custom Binary Cursor Effect */
        .cursor-digit {
            position: fixed;
            pointer-events: none;
            /* Critical: allows clicking through the digits */
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            font-weight: bold;
            z-index: 9999;
            user-select: none;
            animation: fallAndFade 1.5s forwards linear;
        }

        @keyframes fallAndFade {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(100px);
                /* How far they drop */
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <div id="particles-js"></div>

    <div id="terminal-overlay">
        <div class="terminal-content" id="terminal-output">
            <div>Anas_OS v2.0.0 (kernel: 2026.02.16)</div>
            <div>Type 'help' to see available commands.</div>
        </div>
        <div class="terminal-input-line">
            <span>anas@portfolio:~$</span>
            <input type="text" id="terminal-input" autofocus>
        </div>
    </div>
    <div id="terminal-toggle" title="Open Terminal Mode">
        <i class="fas fa-terminal"></i>
    </div>

    <nav>
        <div class="container nav-content">
            <a href="#" class="logo mono">ANAS<span class="text-accent" style="color:var(--accent)">.HAFED</span></a>
            <div class="nav-links">
                <a href="#about">About</a>
                <a href="#projects">Projects</a>
                <a href="#experience">Exp</a>
                <a href="#skills">Stack</a>
                <div class="search-container" style="display:inline-block">
                    <input type="text" id="nav-search" placeholder="Semantic search...">
                    <div id="search-results" class="search-results"></div>
                </div>
            </div>
        </div>
    </nav>

    <section class="hero container">
        <div class="hero-section">
            <div class="hero-main" data-aos="fade-up">
                <span class="hero-tag mono">MACHINE LEARNING ENGINEER</span>
                <h1 style="font-size: clamp(2.5rem, 6vw, 4rem); line-height:1.1; margin-bottom:20px;">
                    Turning Complex Data Into <br><span class="text-gradient">Intelligent Systems</span>
                </h1>
                <p class="text-muted" style="font-size: 1.2rem; margin-bottom:40px;">
                    I architect scalable ETL pipelines and build production-grade NLP systems.
                    Focused on reducing latency and maximizing data availability.
                </p>
            </div>

            <div class="contact-box" data-aos="fade-left">
                <h3 class="mono" style="text-align:center; margin-bottom:20px;">Connect_Inquiry</h3>
                <div class="profile-image-container">
                    <div class="profile-frame">
                        <div class="profile-image">
                            <img src="./img/434.png" alt="Anas Hafed"
                                onerror="this.src='https://via.placeholder.com/250'">
                        </div>
                    </div>
                </div>
                <div style="display:flex; justify-content:center; gap:15px; margin-bottom:25px;">
                    <a href="mailto:anas.h.hafed@gmail.com" class="social-icon"><i class="fas fa-envelope"></i></a>
                    <a href="https://linkedin.com/in/anas-hafed-113474240/" class="social-icon"><i
                            class="fab fa-linkedin-in"></i></a>
                    <a href="https://github.com/anasHHz" class="social-icon"><i class="fab fa-github"></i></a>
                    <a href="https://t.me/AnasHHafed" class="social-icon"><i class="fab fa-telegram-plane"></i></a>
                </div>
                <a href="Anas Hafed_cv.pdf" class="btn"
                    style="display:block; text-align:center; background:var(--accent); color:black; font-weight:700; padding:12px; border-radius:8px;">
                    <i class="fas fa-file-pdf"></i> Download Full CV
                </a>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="bento-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
            <div class="card" style="text-align:center" data-aos="zoom-in">
                <span class="text-gradient" style="font-size:2.5rem; font-weight:800; display:block">3,000+</span>
                <span class="mono" style="font-size:0.8rem; color:var(--text-muted)">Sources Integrated</span>
            </div>
            <div class="card" style="text-align:center" data-aos="zoom-in" data-aos-delay="100">
                <span class="text-gradient" style="font-size:2.5rem; font-weight:800; display:block">70%</span>
                <span class="mono" style="font-size:0.8rem; color:var(--text-muted)">Faster Training</span>
            </div>
            <div class="card" style="text-align:center" data-aos="zoom-in" data-aos-delay="200">
                <span class="text-gradient" style="font-size:2.5rem; font-weight:800; display:block">140+</span>
                <span class="mono" style="font-size:0.8rem; color:var(--text-muted)">Datasets in RAG</span>
            </div>
            <div class="card" style="text-align:center" data-aos="zoom-in" data-aos-delay="300">
                <span class="text-gradient" style="font-size:2.5rem; font-weight:800; display:block">40+</span>
                <span class="mono" style="font-size:0.8rem; color:var(--text-muted)">Project Delivered</span>
            </div>
        </div>
    </section>

    <section id="projects" class="container" style="padding: 100px 0;">
        <h2 class="mono text-gradient" style=" font-size:1.3rem;">// SELECTED PROJECTS</h2>
        <div class="bento-grid">

            <div class="card" style="grid-column: span 2;" data-aos="fade-up">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <div>
                        <span class="stat-badge">Training Simulation</span>
                        <h3 class="mono">Quality Prediction System</h3>
                    </div>
                    <button id="run-train" class="skill-tag" style="cursor:pointer; border-color:var(--accent)">
                        <i class="fas fa-play"></i> RUN TRAINING
                    </button>
                </div>
                <p class="text-muted">Forecasting PM2.5 levels. Use the slider to set hyperparameters and hit 'Run' to
                    see the model converge in real-time.</p>

                <div class="chart-container" style="height: 250px; position: relative;">
                    <canvas id="performanceChart"></canvas>
                </div>

                <div class="slider-control"
                    style="justify-content: center; background: rgba(255,255,255,0.02); padding: 10px; border-radius: 8px;">
                    <span>Learning Rate:</span>
                    <input type="range" id="lr-slider" min="1" max="100" value="50">
                    <span id="lr-val" class="mono" style="color:var(--accent)">0.050</span>
                </div>
            </div>
            <div class="card project-card" data-aos="fade-up" id="amazon-card">
                <span class="stat-badge">Live Intelligence</span>
                <h3 class="mono">Amazon Competitive Intel</h3>
                <p class="text-muted">Automated scraping engine applying FinBERT for deep sentiment insights.</p>

                <div id="intel-scanner"
                    style="margin: 15px 0; padding: 10px; background: rgba(0,0,0,0.4); border-radius: 8px; border-left: 3px solid var(--accent); font-size: 0.75rem; height: 80px; overflow: hidden;">
                    <div id="scanner-line" class="mono" style="color: #4ade80;">[SYSTEM] Waiting for hover...</div>
                </div>

                <div class="tech-badge">FinBERT</div>
                <div class="tech-badge">Web Scraping</div>
                <div class="tech-badge">LDA</div>
            </div>

            <div class="card" data-aos="fade-up">
                <span class="stat-badge">Computer Vision</span>
                <h3 class="mono">Complex Arabic OCR</h3>
                <p class="text-muted">Multiple layer complex Arabic OCR scan tables and handwriting recognition.</p>
                <div class="tech-badge">PyTorch</div>
                <div class="tech-badge">DeepSeek</div>
            </div>
            <div class="card  project-card" style="grid-column: span 2;" data-aos="fade-up">
                <div class="project-header">
                    <span class="stat-badge">LTV Prediction</span>
                    <h3 class="project-title">E-Commerce Segmentation</h3>
                    <p class="text-muted">RFM analysis identifying 7 distinct customer segments combined with XGBoost
                        regression (RÂ²=0.85) for LTV.</p>
                </div>
                <div class="project-tech mono">
                    <span class="tech-badge">Clustering</span>
                    <span class="tech-badge">XGBoost</span>
                    <span class="tech-badge">Streamlit</span>
                </div>
            </div>
            <div class="card project-card" style="grid-column: span 2;" data-aos="fade-up">
                <div class="project-header">

                    <span class="stat-badge">NLP</span>
                    <h3 class="project-title"> Recommendation System </h3>
                    <p class="text-muted"> Designed a recommendation engine using collaborative or content-based
                        filtering to deliver personalized movie suggestions.</p>
                </div>
                <div class="project-tech mono">
                    <span class="tech-badge">Levenshtein</span>
                    <span class="tech-badge">NLP</span>
                    <span class="tech-badge">fuzzywuzzy</span>

                </div>

            </div>
            <div class="card project-card" data-aos="fade-up" data-aos-delay="400">
                <div class="project-header">
                    <span class="stat-badge">Computer Vision</span>
                    <h3 class="project-title">complex arabic OCR</h3>
                    <p class="text-muted">multiple layer complex Arabic OCR scan tables and hand writing text
                        recognition</p>
                </div>
                <div class="project-tech mono">
                    <span class="tech-badge">PyTorch</span>
                    <span class="tech-badge">deepseek</span>
                    <span class="tech-badge">GPU Accel</span>
                </div>
            </div>


        </div>
    </section>

    <section id="experience" class="container" style="padding: 80px 0;">
        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 40px;">
            <div>
                <h2 class="mono text-gradient" style=" font-size:1.3rem;">// Experience</h2>
                <p class="text-muted">A track record of shipping high-impact ML systems.</p>
            </div>
            <div class="timeline">
                <div class="timeline-item" data-aos="fade-left">
                    <span class="mono" style="color:var(--text-muted); font-size:0.8rem;">SEP 2022 - PRESENT</span>
                    <h3 style="color:var(--accent)">Machine Learning Engineer</h3>
                    <h4>Dataplume (Remote)</h4>
                    <p class="text-muted">Built automated ETL pipelines for 3,000+ sources (30% throughput increase).
                        Reduced ML model training time by 70% via distributed training.
                        Deployed NLP chatbots for enterprise clients integrating 140+ datasets.</p>
                </div>
                <div class="timeline-item" data-aos="fade-left">
                    <span class="mono" style="color:var(--text-muted); font-size:0.8rem;">NOV 2023 - MAY 2025</span>
                    <h3 style="color:var(--accent)">Lecturer & Project Consultant</h3>
                    <h4>Damascus University</h4>
                    <p class="text-muted">Mentored 150+ students in Algorithms and Data engineering.</p>
                </div>
                <div class="timeline-item" data-aos="fade-left" data-aos-delay="200">
                    <span class="mono" style="color:var(--text-muted); font-size:0.8rem;">OCT 2021 - NOV 2023</span>
                    <h3 style="color:var(--accent)">Freelance Data Scientist</h3>
                    <h4 style="margin-bottom: 10px;">Self-Employed</h4>
                    <p class="text-muted">
                        Delivered end-to-end solutions including web scraping and model deployment.
                        Achieved 95%+ client satisfaction rate.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="skills" class="container" style="padding: 80px 0;">
        <h2 class="mono text-gradient" style=" font-size:1.3rem;">// TECHNICAL_ARSENAL</h2>


        <div class="skills-grid-static">

            <div class="card" data-aos="fade-up">
                <div class="category-header">
                    <i class="fas fa-terminal"></i>
                    <h3 class="mono">Core & Foundations</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag">Python (Pandas, NumPy)</span>
                    <span class="skill-tag">Scikit-learn</span>
                    <span class="skill-tag">Statsmodels</span>
                    <span class="skill-tag">SQL</span>
                    <span class="skill-tag">Git</span>
                </div>
            </div>

            <div class="card" data-aos="fade-up" data-aos-delay="100">
                <div class="category-header">
                    <i class="fas fa-brain"></i>
                    <h3 class="mono">Machine Learning</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag">Supervised Learning</span>
                    <span class="skill-tag">Random Forest</span>
                    <span class="skill-tag">XGBoost</span>
                    <span class="skill-tag">LightGBM</span>
                    <span class="skill-tag">Ensemble Methods</span>
                    <span class="skill-tag">NLP (Transformers)</span>
                    <span class="skill-tag">Feature Engineering</span>
                    <span class="skill-tag">Hyperparameter Tuning</span>
                    <span class="skill-tag">Recommendation Systems</span>
                </div>
            </div>

            <div class="card" data-aos="fade-up" data-aos-delay="200">
                <div class="category-header">
                    <i class="fas fa-microchip"></i>
                    <h3 class="mono">Deep Learning & CV</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag">PyTorch</span>
                    <span class="skill-tag">TensorFlow/Keras</span>
                    <span class="skill-tag">CNNs</span>
                    <span class="skill-tag">GANs</span>
                    <span class="skill-tag">Torchvision</span>
                    <span class="skill-tag">HuggingFace</span>
                    <span class="skill-tag">GPU-Accel Training</span>
                </div>
            </div>

            <div class="card" data-aos="fade-up" data-aos-delay="300">
                <div class="category-header">
                    <i class="fas fa-cogs"></i>
                    <h3 class="mono">Engineering & MLOps</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag">MLflow</span>
                    <span class="skill-tag">H20.ai</span>
                    <span class="skill-tag">PyCaret</span>
                    <span class="skill-tag">A/B Testing</span>
                    <span class="skill-tag">Model Monitoring</span>
                    <span class="skill-tag">CI/CD</span>
                    <span class="skill-tag">Docker</span>
                    <span class="skill-tag">Flask</span>
                    <span class="skill-tag">Streamlit</span>
                </div>
            </div>

            <div class="card" data-aos="fade-up" data-aos-delay="400">
                <div class="category-header">
                    <i class="fas fa-cloud"></i>
                    <h3 class="mono">Data & Cloud</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag">ETL Pipelines</span>
                    <span class="skill-tag">Web Scraping (Scrapy, BS4)</span>
                    <span class="skill-tag">PostgreSQL/MySQL</span>
                    <span class="skill-tag">AWS (S3, EC2, Redshift)</span>
                    <span class="skill-tag">SageMaker</span>
                    <span class="skill-tag">Distributed Processing</span>
                </div>
            </div>

            <div class="card" data-aos="fade-up" data-aos-delay="500">
                <div class="category-header">
                    <i class="fas fa-users-cog"></i>
                    <h3 class="mono">Strategy & Insights</h3>
                </div>
                <div class="skill-list-static">
                    <span class="skill-tag ">Matplotlib/Seaborn/Plotly</span>
                    <span class="skill-tag ">Power BI & Tableau</span>
                    <span class="skill-tag ">Stakeholder Comm.</span>
                    <span class="skill-tag ">Agile Methodologies</span>
                    <span class="skill-tag ">Project Leadership</span>

                </div>
            </div>

        </div>
    </section>

    <footer id="contact" style="text-align:center; padding: 100px 0; border-top: 1px solid rgba(255,255,255,0.05);">
        <h2 style="margin-bottom:20px;">Ready to Optimize Your Data?</h2>
        <p class="text-muted" style="margin-bottom:40px;">Currently open to ML/ai Engineering data optimization
            opportunities.</p>
        <p class="mono" style="font-size:0.8rem; opacity:0.5;">&copy; 2026 Anas Hafed. Built with Precision.</p>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 800, once: true });

        /* 1. PARTICLES.JS CONFIG */
        particlesJS("particles-js", {
            "particles": {
                "number": { "value": 80 },
                "color": { "value": "#22d3ee" },
                "shape": { "type": "circle" },
                "opacity": { "value": 0.2 },
                "size": { "value": 3 },
                "line_linked": { "enable": true, "distance": 150, "color": "#818cf8", "opacity": 0.2, "width": 1 },
                "move": { "enable": true, "speed": 2 }
            },
            "interactivity": {
                "events": { "onhover": { "enable": true, "mode": "grab" } },
                "modes": { "grab": { "distance": 200, "line_linked": { "opacity": 0.5 } } }
            }
        });

        /* 2. ADVANCED CONTEXTUAL SEARCH ENGINE */

        // 1. Synonym Map: This mimics "Semantic" understanding 
        // by expanding the search query to related terms.
        const synonymMap = {
            "ai": ["machine learning", "deep learning", "neural", "transformers"],
            "scraping": ["etl", "data acquisition", "crawler", "automation"],
            "database": ["sql", "postgresql", "s3", "redshift", "data architect"],

            "vision": ["ocr", "cv", "pytorch", "images", "cnn"]
        };

        function buildLiveIndex() {
            const searchIndex = [];

            // Index all Cards (Projects, Skills, Experience)
            document.querySelectorAll('.card').forEach((card, idx) => {
                const title = card.querySelector('h3')?.innerText || "General Information";
                const body = card.querySelector('p')?.innerText || "";
                const tags = Array.from(card.querySelectorAll('.tech-badge, .skill-tag'))
                    .map(t => t.innerText).join(' ');

                // Find ID of parent section for navigation
                const sectionId = card.closest('section')?.id || "about";

                searchIndex.push({
                    id: `card-${idx}`,
                    title: title,
                    content: body,
                    tags: tags,
                    section: sectionId,
                    element: card // Store reference for highlighting
                });

                // Give the card a temporary ID for scrolling
                card.setAttribute('data-search-id', `card-${idx}`);
            });
            return searchIndex;
        }

        const dataIndex = buildLiveIndex();
        const fuse = new Fuse(dataIndex, {
            keys: [
                { name: 'title', weight: 0.7 },
                { name: 'tags', weight: 0.5 },
                { name: 'content', weight: 0.3 }
            ],
            threshold: 0.35, // Balanced fuzziness
            includeMatches: true
        });

        const searchInput = document.getElementById('nav-search');
        const resultsDiv = document.getElementById('search-results');

        searchInput.addEventListener('input', (e) => {
            let query = e.target.value.toLowerCase();

            // Expansion logic: If they type "AI", search for "AI" + "Machine Learning" etc.
            Object.keys(synonymMap).forEach(key => {
                if (query.includes(key)) query += " " + synonymMap[key].join(" ");
            });

            const results = fuse.search(query);
            resultsDiv.innerHTML = '';

            if (query.length < 2) {
                resultsDiv.style.display = 'none';
                return;
            }

            if (results.length > 0) {
                resultsDiv.style.display = 'block';
                results.slice(0, 6).forEach(r => {
                    const item = r.item;
                    const div = document.createElement('div');
                    div.className = 'search-item';
                    div.innerHTML = `
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <strong class="mono" style="color:var(--accent)">${item.title}</strong>
                    <span style="font-size:0.6rem; text-transform:uppercase; opacity:0.5">${item.section}</span>
                </div>
                <div style="font-size:0.75rem; color:var(--text-muted); margin-top:4px;">
                    ${item.content.substring(0, 60)}...
                </div>
            `;

                    div.onclick = () => {
                        // Teleport and Highlight
                        const element = document.querySelector(`[data-search-id="${item.id}"]`);
                        element.scrollIntoView({ behavior: 'smooth', block: 'center' });

                        // Visual feedback (Pulse highlight)
                        element.style.transition = '0.5s';
                        element.style.boxShadow = '0 0 30px var(--accent)';
                        element.style.borderColor = 'var(--accent)';

                        setTimeout(() => {
                            element.style.boxShadow = '';
                            element.style.borderColor = '';
                        }, 2000);

                        resultsDiv.style.display = 'none';
                        searchInput.value = '';
                    };
                    resultsDiv.appendChild(div);
                });
            } else {
                resultsDiv.innerHTML = '<div class="search-item mono" style="font-size:0.8rem">No nodes found for this query...</div>';
                resultsDiv.style.display = 'block';
            }
        });
        /* 3. TERMINAL MODE LOGIC */
        const terminalToggle = document.getElementById('terminal-toggle');
        const terminalOverlay = document.getElementById('terminal-overlay');
        const termInput = document.getElementById('terminal-input');
        const termOutput = document.getElementById('terminal-output');

        terminalToggle.onclick = () => {
            terminalOverlay.style.display = terminalOverlay.style.display === 'none' ? 'block' : 'none';
            if (terminalOverlay.style.display === 'block') termInput.focus();
        };

        termInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const cmd = termInput.value.trim().toLowerCase();
                let response = "";

                switch (cmd) {
                    case 'help':
                        response = "Available commands: [whoami], [skills], [projects], [experience], [contact], [sudo battle], [clear], [exit]";
                        break;
                    case 'whoami':
                        response = "Anas Hafed: ML Engineer & Data Architect. Focused on reducing latency, maximizing data availability, and building production-grade NLP systems.";
                        break;
                    case 'skills':
                        response = "CORE: Python (Pandas, NumPy), SQL, Git. <br>ML: PyTorch, TensorFlow, XGBoost, Transformers, CV, GANs. <br>ENG: MLOps, AWS (S3, EC2, SageMaker), ETL Pipelines, Web Scraping.";
                        break;
                    case 'projects':
                        response = "PROJECTS LOADED: <br>1. Quality Prediction (PM2.5 Forecasting) <br>2. Amazon Intel (FinBERT Sentiment) <br>3. Arabic OCR (PyTorch/DeepSeek) <br>4. E-Commerce Segmentation (XGBoost/LTV).";
                        break;
                    case 'experience':
                        response = "> Dataplume (2022-Pres): Built ETL for 3k+ sources, 70% training speedup. <br>> Damascus University (2023-2025): Lecturer/Consultant for 150+ students. <br>> Freelance Data Scientist (2021-2023).";
                        break;
                    case 'contact':
                        response = "EMAIL: anas.h.hafed@gmail.com <br>NETWORKS: LinkedIn (anas-hafed-113474240), GitHub (anasHHz), Telegram (@AnasHHafed).";
                        break;
                    case 'sudo battle':
                        startGunFight();
                        response = "ALERT: Neural entities have breached the firewall. Terminal locked during combat.";
                        break;
                    case 'clear':
                        termOutput.innerHTML = '<div>Anas_OS v2.0.0 (kernel: 2026.02.16)</div>';
                        termInput.value = '';
                        return;
                    case 'exit':
                        terminalOverlay.style.display = 'none';
                        return;
                    default:
                        response = `Command not found: ${cmd}. Type 'help' for options.`;
                }

                termOutput.innerHTML += `<div style="margin-top:10px;"><span style="color:var(--accent)">anas@portfolio:~$</span> ${cmd}</div><div style="color:#f8fafc">${response}</div>`;
                termInput.value = '';
                terminalOverlay.scrollTo(0, terminalOverlay.scrollHeight);
            }
        });
        function startGunFight() {
            terminalOverlay.style.display = 'none';

            // 1. Fix Audio: Explicitly resume the context to bypass browser blocks
            const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }

            const playSound = (freq, type, duration) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = type;
                osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
                osc.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
                gain.gain.setValueAtTime(0.05, audioCtx.currentTime); // Lower volume slightly
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + duration);
            };

            const createStickman = (side) => {
                const s = document.createElement('div');
                s.className = 'stickman';
                s.style.position = 'fixed';
                s.style.bottom = '50%';
                s.style[side] = '5%';
                s.style.transition = 'all 0.5s linear';
                s.style.zIndex = '10005'; // Ensure they are on top
                s.innerHTML = `
            <svg viewBox="0 0 100 200" width="80">
                <circle cx="50" cy="30" r="15" fill="#22d3ee"/>
                <path d="M50 45 L50 120 M50 60 L80 80 M50 60 L20 80 M50 120 L30 170 M50 120 L70 170" stroke="#22d3ee" stroke-width="8"/>
                <rect x="${side === 'left' ? 70 : 0}" y="70" width="30" height="10" fill="#22d3ee" /> 
            </svg>`;
                document.body.appendChild(s);
                return s;
            };

            const p1 = createStickman('left');
            const p2 = createStickman('right');

            let battleTicks = 0;
            const battle = setInterval(() => {
                // End condition check at the start of the interval
                if (battleTicks > 25) {
                    clearInterval(battle);
                    setTimeout(() => {
                        p1.remove();
                        p2.remove();
                        document.querySelectorAll('.destroyed').forEach(e => e.classList.remove('destroyed'));
                        alert("we won !!!!: Terminal commands restored.");
                    }, 1000);
                    return;
                }

                // 2. Fix Movement & Coordinates
                p1.style.left = (Math.random() * 20 + 5) + '%';
                p2.style.right = (Math.random() * 20 + 5) + '%';

                const shooter = Math.random() > 0.5 ? p1 : p2;
                const isLeft = (shooter === p1);
                const rect = shooter.getBoundingClientRect(); // Get exact screen position

                //  playSound(440, 'square', 0.1); // Shot sound
                shooter.style.transform = `scale(0.9) translateX(${isLeft ? '-5px' : '5px'})`;
                setTimeout(() => shooter.style.transform = 'scale(1)', 100);

                // 3. Fix Bullet Positioning
                const bullet = document.createElement('div');
                bullet.className = 'bullet';
                bullet.style.position = 'fixed';
                bullet.style.top = (rect.top + 70) + 'px'; // Based on viewport, not document
                bullet.style.left = isLeft ? (rect.right + 'px') : (rect.left + 'px');
                document.body.appendChild(bullet);

                let bPos = isLeft ? rect.right : rect.left;
                const speed = isLeft ? 15 : -15;

                const fly = setInterval(() => {
                    bPos += speed;
                    bullet.style.left = bPos + 'px';

                    // 4. Fix Collision Detection
                    // Using rect.top + 70 ensures we check where the bullet actually is on the screen
                    const hitElem = document.elementFromPoint(bPos, rect.top + 70);

                    if (hitElem &&
                        hitElem !== bullet &&
                        hitElem.tagName !== 'BODY' &&
                        hitElem.tagName !== 'HTML' &&
                        !hitElem.classList.contains('stickman')) {

                        hitElem.classList.add('destroyed');
                        //   playSound(120, 'sawtooth', 0.2); // Impact sound
                        bullet.remove();
                        clearInterval(fly);
                    }

                    // Boundary cleanup
                    if (bPos > window.innerWidth || bPos < 0) {
                        bullet.remove();
                        clearInterval(fly);
                    }
                }, 10);

                battleTicks++;
            }, 600);
        }
        /* 4. INTERACTIVE CHART LOGIC */
        const ctx = document.getElementById('performanceChart').getContext('2d');

        // Create Gradients
        const blueGrad = ctx.createLinearGradient(0, 0, 0, 400);
        blueGrad.addColorStop(0, 'rgba(34, 211, 238, 0.4)');
        blueGrad.addColorStop(1, 'rgba(34, 211, 238, 0)');

        const purpleGrad = ctx.createLinearGradient(0, 0, 0, 400);
        purpleGrad.addColorStop(0, 'rgba(129, 140, 248, 0.4)');
        purpleGrad.addColorStop(1, 'rgba(129, 140, 248, 0)');

        let perfChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['0', '20', '40', '60', '80', '100'],
                datasets: [
                    {
                        label: 'Accuracy',
                        data: [0.1, 0.3, 0.45, 0.6, 0.75, 0.88],
                        borderColor: '#22d3ee',
                        backgroundColor: blueGrad,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y'
                    },
                    {
                        label: 'Loss',
                        data: [0.9, 0.6, 0.4, 0.25, 0.15, 0.08],
                        borderColor: '#818cf8',
                        backgroundColor: purpleGrad,
                        fill: true,
                        tension: 0.4,
                        yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: true, labels: { color: '#94a3b8', font: { family: 'JetBrains Mono' } } } },
                scales: {
                    y: { display: false, position: 'left' },
                    y1: { display: false, position: 'right' },
                    x: { grid: { color: 'rgba(255,255,255,0.05)' }, ticks: { color: '#94a3b8' } }
                }
            }
        });

        const runBtn = document.getElementById('run-train');
        const lrSlider = document.getElementById('lr-slider');
        const lrVal = document.getElementById('lr-val');

        lrSlider.oninput = function () {
            lrVal.innerText = (this.value / 1000).toFixed(3);
        };

        runBtn.onclick = function () {
            this.innerHTML = '<i class="fas fa-sync fa-spin"></i> TRAINING...';
            this.style.pointerEvents = 'none';

            const lr = lrSlider.value / 100;
            let progress = 0;
            const interval = setInterval(() => {
                progress++;
                // Simulate convergence based on learning rate
                const noise = () => (Math.random() - 0.5) * 0.5;
                const accBase = 1 - Math.exp(-progress * lr * 5);

                perfChart.data.datasets[0].data = perfChart.data.labels.map((_, i) =>
                    Math.min(0.99, (accBase * (i / 5)) + noise())
                );
                perfChart.data.datasets[1].data = perfChart.data.labels.map((_, i) =>
                    Math.max(0.01, (1 - accBase * (i / 5)) + noise())
                );

                perfChart.update('none');

                if (progress > 20) {
                    clearInterval(interval);
                    this.innerHTML = '<i class="fas fa-check"></i> MODEL READY';
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-play"></i> RUN TRAINING';
                        this.style.pointerEvents = 'all';
                    }, 3000);
                }
            }, 50);
        };

        /* 4. AMAZON INTEL FUN LOGIC */
        const amazonCard = document.getElementById('amazon-card');
        const scannerText = document.getElementById('scanner-line');
        const feedData = [
            "> Initializing FinBERT NLP...",
            "> Scraping ASIN: B08N5K17KK...",
            "> Sentiment: 88% POSITIVE",
            "> LDA Topic: [Battery Life, Performance]",
            "> Competitor Gap: High Latency in Delivery",
            "> Analysis Complete."
        ];

        let feedIdx = 0;
        let scannerInterval;

        amazonCard.onmouseenter = () => {
            scannerInterval = setInterval(() => {
                scannerText.innerHTML = feedData[feedIdx];
                feedIdx = (feedIdx + 1) % feedData.length;
                scannerText.style.opacity = "0";
                setTimeout(() => scannerText.style.opacity = "1", 50);
            }, 800);
        };

        amazonCard.onmouseleave = () => {
            clearInterval(scannerInterval);
            scannerText.innerHTML = "[SYSTEM] Waiting for hover...";
        };
    </script>
    <script>
        const colors = ['#22d3ee', '#818cf8']; // Your theme colors (cyan and purple)
        let lastEventTime = 0;

        document.addEventListener('mousemove', (e) => {
            const now = Date.now();

            // Only create a digit every 50ms to save performance
            if (now - lastEventTime < 50) return;
            lastEventTime = now;

            const digit = document.createElement('div');
            digit.className = 'cursor-digit';

            // Randomly choose 0 or 1
            digit.innerText = Math.round(Math.random());

            // Randomly choose between your accent and purple colors
            digit.style.color = colors[Math.floor(Math.random() * colors.length)];

            // Position at cursor
            digit.style.left = e.clientX + 'px';
            digit.style.top = e.clientY + 'px';

            // Add a tiny bit of random horizontal drift
            const drift = (Math.random() - 0.5) * 40;
            digit.style.setProperty('--drift', `${drift}px`);

            document.body.appendChild(digit);

            // Remove from DOM after animation finishes
            setTimeout(() => {
                digit.remove();
            }, 1500);
        });
    </script>
</body>

</html>
